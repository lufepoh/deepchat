# Deepchat Linux 빌드 가이드

## 기능 개요

이 문서는 낮은 버전의 glibc 환경에서도 실행 가능한 Deepchat 애플리케이션을 Docker를 사용하여 빌드하는 방법을 설명합니다. 이 방식은 대부분의 Linux 시스템에서 실행 가능한 바이너리 생성을 목적으로 합니다.

## 기술적 구성

### 빌드 환경

- 기본 이미지: node:22-slim (Debian 기반으로 안정적인 환경 제공)
- Node.js 버전: 22.x
- 빌드 도구: npm (중국 지역 사용자 편의를 위한 타오바오 미러 설정 포함)

## 사용법

### 빌드 절차

1. Docker가 설치되어 실행 중인지 확인합니다.
2. 다음 명령어로 빌드를 진행합니다:

```bash
# Docker 이미지 빌드
docker build -t deepchat-builder -f Dockerfile.build.linux .

# 빌드 실행
docker run --rm -v $(pwd):/app/dist deepchat-builder
```

### 빌드 결과물

빌드가 완료되면, `dist` 디렉토리 내에 다음과 같은 결과물이 생성됩니다:
- Linux 실행 파일
- 관련 종속성과 리소스 파일
- AppImage 또는 deb 패키지 (빌드 구성에 따라 달라짐)

### 유의사항

1. 빌드에는 시간이 다소 걸릴 수 있으므로 기다려 주세요.
2. 충분한 디스크 공간 확보 필요 (최소 10GB 권장)
3. npm은 타오바오 미러를 사용하도록 설정되어 있어 다운로드 속도가 빠릅니다.
4. npm 미러를 변경하려면 Dockerfile의 설정을 수정하면 됩니다.
5. 생성된 바이너리는 기본 이미지의 glibc 버전을 상속하므로 호환성이 뛰어납니다.

## 자주 묻는 질문

1. **빌드 실패**
   - 네트워크 연결 상태 확인
   - 디스크 공간 확인
   - `docker logs`로 오류 메시지 확인

2. **종속성 문제**
   - 시스템 종속성이 부족할 수 있음 (예: node-gyp 등)
   - 필요 시 수동으로 설치
   - 네트워크 문제는 미러 주소 설정 확인

3. **권한 문제**
   - Docker가 프로젝트 디렉토리에 접근 가능한 권한이 있는지 확인
   - 생성 파일의 소유자 및 권한 점검

## 기술 지원

문제가 발생하면 다음을 확인하세요:
1. 로그 확인
2. 시스템 요구 사항 충족 여부
3. GitHub Issues 검색
4. 문제가 계속되면 새 Issue를 등록하고 로그 및 환경 정보를 포함하세요.